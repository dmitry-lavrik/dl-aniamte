!function(){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var n=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var t=document.createElement("div");this.canAnimate="function"==typeof this.raf&&"classList"in t&&void 0!==e(t.style.transition),this.canAnimate&&(this.raf=this.raf.bind(window)),this.frames=[],this.framesRun=!1}return t(n,[{key:"show",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.canAnimate||this._show(e),this._isHidden(e)){var s=this._calcOptions(n);this._setFinishHandler(e,s.track,s.duration,function(){t._removeClasses(e,s.classNames.enterActive),t._removeClasses(e,s.classNames.enterTo),s.afterEnter(e)}),this._show(e),this._addClasses(e,s.classNames.enter),s.beforeEnter(e),this._addFrame(function(){t._addClasses(e,s.classNames.enterActive)}),this._addFrame(function(){t._removeClasses(e,s.classNames.enter),t._addClasses(e,s.classNames.enterTo)})}}},{key:"hide",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.canAnimate||this._hide(e),!this._isHidden(e)){var s=this._calcOptions(n);this._setFinishHandler(e,s.track,s.duration,function(){t._hide(e),t._removeClasses(e,s.classNames.leaveActive),t._removeClasses(e,s.classNames.leaveTo),n.systemOnEnd&&n.systemOnEnd(),s.afterLeave(e)}),this._addClasses(e,s.classNames.leave),s.beforeLeave(e),this._addFrame(function(){t._addClasses(e,s.classNames.leaveActive)}),this._addFrame(function(){t._addClasses(e,s.classNames.leaveTo),t._removeClasses(e,s.classNames.leave)})}}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._hide(t),e.insertBefore(t,s),this.show(t,n)}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.systemDoneCallback=function(){e.parentNode.removeChild(e)},this.hide(e,t)}},{key:"_setFinishHandler",value:function(e,t,n,s){var a=void 0,i=!0;if("transition"===t?a="transitionend":"animation"===t?a="animationend":i=!1,i){e.addEventListener(a,function t(){e.removeEventListener(a,t),s()})}else setTimeout(s,n)}},{key:"_calcOptions",value:function(e){var t=void 0!==e.name?e.name:"dl-nothing-doing-class",n=this._mergeSettings(this._classNames(t),e.classNames);delete e.classNames;var s={name:"",track:"transition",duration:null,classNames:n,beforeEnter:function(e){},afterEnter:function(e){},beforeLeave:function(e){},afterLeave:function(e){},systemDoneCallback:function(e){}};return this._mergeSettings(s,e)}},{key:"_classNames",value:function(e){return{enter:e+"-enter",enterActive:e+"-enter-active",enterTo:e+"-enter-to",leave:e+"-leave",leaveActive:e+"-leave-active",leaveTo:e+"-leave-to"}}},{key:"_addFrame",value:function(e){this.frames.push(e),this.framesRun||this._nextFrame()}},{key:"_nextFrame",value:function(){var e=this;if(0!==this.frames.length){var t=this.frames.shift();this.raf(function(){e.raf(function(){t(),e._nextFrame()})})}else this.framesRun=!1}},{key:"_addClasses",value:function(e,t){for(var n=t.split(" "),s=0;s<n.length;s++)e.classList.add(n[s])}},{key:"_removeClasses",value:function(e,t){for(var n=t.split(" "),s=0;s<n.length;s++)e.classList.remove(n[s])}},{key:"_mergeSettings",value:function(t,n){if("object"!==(void 0===n?"undefined":e(n)))return t;var s={};for(var a in t)s[a]=void 0!==n[a]?n[a]:t[a];return s}},{key:"_hide",value:function(e){e.style.display="none"}},{key:"_show",value:function(e){e.style.removeProperty("display"),this._isHidden(e)&&(e.style.display="block")}},{key:"_isHidden",value:function(e){return"none"===this._getStyle(e,"display")}},{key:"_getStyle",value:function(e,t){return getComputedStyle(e)[t]}}]),n}();window.DLAnimate=new n}();